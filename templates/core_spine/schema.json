{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Core Spine Analysis",
  "description": "Identify the core spine of a codebase - the critical path and essential modules",
  "type": "object",
  "properties": {
    "repo_path": {
      "type": "string",
      "default": ".",
      "description": "Path to the repository root"
    },
    "scope": {
      "type": "array",
      "items": { "type": "string" },
      "default": ["."],
      "description": "Directories to analyze"
    },
    "time_budget_minutes": {
      "type": "integer",
      "default": 45,
      "minimum": 15,
      "description": "Time budget for analysis in minutes"
    },
    "depth": {
      "type": "string",
      "enum": ["fast", "normal", "deep"],
      "default": "normal",
      "description": "Analysis depth"
    },
    "output_format": {
      "type": "string",
      "enum": ["markdown", "json"],
      "default": "markdown",
      "description": "Output format"
    },
    "risk_tolerance": {
      "type": "string",
      "enum": ["conservative", "balanced", "aggressive"],
      "default": "balanced",
      "description": "Risk tolerance for recommendations"
    },
    "audience": {
      "type": "string",
      "enum": ["senior_eng", "junior_eng", "non_tech"],
      "default": "senior_eng",
      "description": "Target audience"
    },
    "definition_of_done": {
      "type": "array",
      "items": { "type": "string" },
      "default": [],
      "description": "Completion criteria"
    },
    "constraints": {
      "type": "array",
      "items": { "type": "string" },
      "default": [],
      "description": "Constraints"
    },
    "assumptions": {
      "type": "array",
      "items": { "type": "string" },
      "default": [],
      "description": "Assumptions"
    },
    "notes": {
      "type": "string",
      "default": "",
      "description": "Additional notes"
    },
    "entry_points": {
      "type": "array",
      "items": { "type": "string" },
      "default": [],
      "description": "Known entry points to trace from"
    }
  },
  "required": []
}
